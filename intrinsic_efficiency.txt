# World 
s:Ge/World/Material  = "Air"
d:Ge/World/HLX       = 100. cm
d:Ge/World/HLY       = 100. cm
d:Ge/World/HLZ       = 100. cm
b:Ge/World/Invisible = "True"

# Photodiode 500 um depth
s:Ge/SiDiode/Type     = "TsBox"
s:Ge/SiDiode/Parent   = "World"
s:Ge/SiDiode/Material = "G4_Si"
d:Ge/SiDiode/HLX      = 3. mm
d:Ge/SiDiode/HLY      = 3. mm
d:Ge/SiDiode/HLZ      = 250 um
s:Ge/SiDiode/Color = "Blue" 

# Depletion Region Detector only score 1.5 um of SiDiode
s:Ge/DepletionDepth/Type     = "TsBox"
s:Ge/DepletionDepth/Parent   = "SiDiode"
s:Ge/DepletionDepth/Material = "G4_Si"
d:Ge/DepletionDepth/HLX      = 3. mm
d:Ge/DepletionDepth/HLY      = 3. mm
d:Ge/DepletionDepth/HLZ      = 0.75 um
d:Ge/DepletionDepth/TransZ = -0.24925 mm
s:Ge/DepletionDepth/Color = "Red" 

# Scorer to count number of gamma that hit the photodiode
s:Sc/Phsp/Quantity                    = "PhaseSpace"
b:Sc/Phsp/OutputToConsole             = "True"
s:Sc/Phsp/Surface                     = "DepletionDepth/ZPlusSurface"
s:Sc/Phsp/OutputType                  = "ASCII" # ASCII, Binary, Limited or ROOT
s:Sc/Phsp/OutputFile                  = "num_gamma_hit"
i:Sc/Phsp/OutputBufferSize            = 1000
b:Sc/Phsp/IncludeTOPASTime = "True" # Time used by TimeFeatures for this history
b:Sc/Phsp/IncludeTimeOfFlight = "True" # Time of Flight of this particle from start of history to scoring plane
b:Sc/Phsp/IncludeRunID = "True"
b:Sc/Phsp/IncludeEventID = "True"
b:Sc/Phsp/IncludeTrackID = "True"
b:Sc/Phsp/IncludeParentID = "True" # Track ID of parent particle
b:Sc/Phsp/IncludeCharge = "True"
b:Sc/Phsp/IncludeCreatorProcess = "True"
b:Sc/Phsp/IncludeVertexInfo = "True" # Initial KE, Position and Momentum
b:Sc/Phsp/IncludeSeed = "True"
s:Sc/Phsp/IfOutputFileAlreadyExists   = "Overwrite"
s:Sc/Phsp/OnlyIncludeParticlesOfGeneration = "primary"

# Scorer to count gamma that interacted with the photodiode
s:Sc/EScorer/Component                 = "DepletionDepth" 
s:Sc/EScorer/Quantity                 = "EnergyDeposit"
b:Sc/EScorer/OutputToConsole           = "True"
s:Sc/EScorer/OutputType = "csv"
s:Sc/EScorer/OutputFile = "num_gamma_interacted"
s:Sc/EScorer/IfOutputFileAlreadyExists = "Overwrite"
sc:Sc/EScorer/EBinEnergy               = "DepositedInStep"
s:Sc/EScorer/OnlyIncludeParticlesOfGeneration = "Primary"
i:Sc/EScorer/EBins        = 1             # Number of energy bins - just remove bins for total energy deposition
d:Sc/EScorer/EBinMin      = 0 keV       # Minimum energy
d:Sc/EScorer/EBinMax      = 500 keV       # Maximum energy
sv:Sc/EScorer/Report      = 1 "Count_In_Bin" # counts num of particles  

# View 
#s:Gr/ViewA/Type                            = "OpenGL"
i:Gr/ViewA/WindowSizeX                      = 900
i:Gr/ViewA/WindowSizeY                      = 900
d:Gr/ViewA/Theta                            = 55 deg
d:Gr/ViewA/Phi                              = 20 deg
s:Gr/ViewA/Projection                       = "Perspective"
d:Gr/ViewA/PerspectiveAngle                 = 30 deg
u:Gr/ViewA/Zoom                             = 1.3
b:Gr/ViewA/HiddenLineRemovalForTrajectories = "True"

# PHYSICS LIST
s:Ph/ListName         = "Gamma"
s:Ph/Gamma/Type     = "Geant4_Modular"
sv:Ph/Gamma/Modules = 1 "g4em-standard_opt3"

# Source - Co-57 
s:So/source/Type = "Isotropic" 
s:So/source/Component = "BeamPosition"
s:So/source/BeamParticle               = "gamma"
s:So/source/Color = "Green" 
s:So/source/BeamEnergySpectrumType    = "continuous"
dv:So/source/BeamEnergySpectrumValues  = 2 122 136 keV # https://gammaray.inl.gov/SiteAssets/catalogs/ge/pdf/co57.pdf
uv:So/source/BeamEnergySpectrumWeights = 2 0.89 0.11
u:So/source/BeamEnergySpread           = 0 
ic:So/source/NumberOfHistoriesInRun    = 1000000 

d:Ge/BeamPosition/TransZ= -2 cm

#b:Ts/PauseBeforeQuit = "True"